<script src="https://cdn.bootcss.com/flv.js/1.3.2/flv.min.js"></script>
<video id="videoElement"></video>
<script>
// src="rtmp://www.jm47.com/live/27"
    if (flvjs.isSupported()) {
        var streamid = getParameter('id');
        var videoElement = document.getElementById('videoElement');
        var flvPlayer = flvjs.createPlayer({
            type: 'flv',
            url: 'https://www.jmdraw.com/nms/live/'+streamid+'.flv'
            //url: 'ws://localhost:8000/live/1.flv'
        });
        flvPlayer.attachMediaElement(videoElement);
        flvPlayer.load();
        flvPlayer.play();
    }

    function getParameter(name, param, xss) {
            if(typeof name == 'boolean'){
              xss = name;
              name = null;
            }else if(typeof param == 'boolean'){
              xss = param;
              param = null;
            }
            var obj = {},
                tmp,
                str = typeof param == "string" ? param : location.search.substring(1);

            //如果传的是完整路径，则把?前的都去掉
            if(str.indexOf('?') > -1) str = str.substr(str.indexOf('?')+1);

            var arr = str.split("&");
            if (arr.length > 0) {
                for (var i = 0, l = arr.length; i < l; i++) {
                    try {
                        if (/(.*?)=(.*)/.test(arr[i])) {
                            var k = RegExp.$1;
                            var v = RegExp.$2;

                            if(v){
                                v = decodeURIComponent(v);
                                v = v.replace(/</g, "&lt;").replace(/>/g, "&gt;");
                            }
                            obj[k] = v;
                        }
                    } catch (e) {}
                }
            }
            return name ? obj[name] : obj;
        }
</script>